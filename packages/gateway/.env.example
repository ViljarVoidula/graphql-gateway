# Database Configuration
DATABASE_URL=postgres://postgres:password@localhost:5432/gateway

# Redis Configuration
REDIS_URL=redis://localhost:6379
# Per-API-key usage via Redis counters
API_KEY_USAGE_REDIS_PREFIX=gqlgw:ak:usage:v1
API_KEY_USAGE_REDIS_TTL_DAYS=35
API_KEY_USAGE_FLUSH_INTERVAL_MS=5000
API_KEY_USAGE_LOCK_KEY=gqlgw:locks:api-key-usage-consolidator
# In dev, start the API key usage consolidator inside the main process (set to 0 to disable)
START_API_KEY_USAGE_WORKER=1

# Session Configuration
SESSION_SECRET=your-very-secure-secret-key-change-in-production-make-it-long-and-random

# Server Configuration
NODE_ENV=development
PORT=4000

# CORS Configuration
CORS_ORIGIN=http://localhost:3000

# Refresh Intervals
REFRESH_INTERVAL=30000
KEY_CLEANUP_INTERVAL=60000

# OpenTelemetry
# Collector endpoint (OTLP/HTTP 4318 recommended for local SigNoz)
OTEL_COLLECTOR_ENDPOINT=http://localhost:4318
OTEL_SERVICE_NAME=graphql-gateway
DEPLOYMENT_ENVIRONMENT=local
# Metric export tuning (ms)
OTEL_METRIC_EXPORT_INTERVAL_MS=10000
OTEL_METRIC_EXPORT_TIMEOUT_MS=5000
# Optional SDK diagnostics: ERROR | WARN | INFO | DEBUG | VERBOSE
OTEL_DIAG_LOG_LEVEL=WARN
